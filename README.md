# NextShopTest

## Описание

NextShopTest — это тестовый интернет-магазин, реализованный на Next.js, React, TypeScript и TailwindCSS. Проект создан по макету из Figma и включает интеграцию с внешними API для товаров и отзывов.

## Реализовано

- Современный дизайн, полностью соответствующий макету из Figma (цвета, сетка, стили, отступы, анимации)
- Тёмный фон страницы, стилизованный заголовок
- Блок отзывов с API, карточки отзывов в одну строку
- Корзина:
  - Табличный список товаров с выравниванием по сетке
  - Возможность увеличивать/уменьшать количество, удалять товары крестиком
  - Итоговая сумма, оформление заказа
  - Валидация телефона
  - Красивая модалка об успешном заказе
- Список товаров:
  - Получение с API, бесконечная прокрутка
  - Карточки с анимацией появления
  - Кнопки "купить", "+", "-", поле для ввода количества
  - Стилизация под макет

## Как запустить

1. Установите зависимости:
   ```bash
   npm install
   ```
2. Запустите dev-сервер:
   ```bash
   npm run dev
   ```
3. Откройте [http://localhost:3000](http://localhost:3000) в браузере.

## Тестирование

Для запуска unit-тестов:
```bash
npm test
```
Тесты покрывают основные компоненты, хуки и слой API. Используются Jest, Testing Library и Babel для поддержки React 19+ и TypeScript.

## API

В проекте используются публичные API:

- **GET /products?page=1&page_size=20** — список товаров (пагинация)
- **GET /reviews** — список отзывов
- **POST /order** — оформление заказа
  - Тело: `{ phone: string, cart: [{ id: number, quantity: number }] }`

Весь доступ к API инкапсулирован в `src/api/shopApi.ts`.

## Архитектура и структура кода

- **Container/Presentational Pattern**: Логика и состояние вынесены в контейнеры (`*Container.tsx`), UI — в презентационные компоненты.
- **Контекст**: Корзина и карта товаров через React Context (`ProductsContext.tsx`).
- **Кастомные хуки**: `useLocalStorageState`, `useAppearAnimation` для локального состояния и анимаций.
- **Лоадеры и Skeleton**: Для плавных загрузок.
- **ErrorBoundary**: Глобальный перехват ошибок.
- **Тесты**: В папках компонентов и хуков, покрывают UI, бизнес-логику и API.

## Доступность (a11y)

- Все основные элементы имеют aria-атрибуты, роли и метки.
- Кнопки и формы доступны с клавиатуры, есть видимые focus-стили.
- Модальное окно с фокус-трапом и aria-modal.
- Skip-to-content ссылка для быстрой навигации.
- Ошибки и загрузки объявляются скринридерам.

## Рекомендации для доработки

- Добавить e2e-тесты (например, Playwright)
- Улучшить обработку ошибок и fallback UI